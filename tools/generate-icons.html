<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆãƒ„ãƒ¼ãƒ«</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1 { color: #333; }
    .icon-preview {
      display: flex;
      gap: 20px;
      margin: 20px 0;
      flex-wrap: wrap;
      align-items: flex-end;
    }
    .icon-item {
      text-align: center;
    }
    .icon-item canvas {
      border: 1px solid #ddd;
      border-radius: 8px;
      background: white;
    }
    .icon-item p {
      margin-top: 8px;
      font-size: 12px;
      color: #666;
    }
    button {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 14px;
      margin: 5px;
    }
    button:hover { opacity: 0.9; }
    .instructions {
      margin-top: 20px;
      padding: 16px;
      background: #e3f2fd;
      border-radius: 6px;
    }
    .instructions h3 { color: #1565c0; margin-bottom: 8px; }
    .instructions ol { margin-left: 20px; }
    .instructions li { margin: 8px 0; }
    code { background: #f0f0f0; padding: 2px 6px; border-radius: 4px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” æœ¬éŸ³ãƒ¬ãƒ“ãƒ¥ãƒ¼ ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆ</h1>
    <p>Chromeæ‹¡å¼µæ©Ÿèƒ½ç”¨ã®å¯æ„›ã‚‰ã—ã„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ç”Ÿæˆã—ã¾ã™ã€‚</p>

    <div class="icon-preview" id="preview"></div>

    <button onclick="downloadAll()">ğŸ“¥ ã™ã¹ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</button>

    <div class="instructions">
      <h3>ä½¿ã„æ–¹</h3>
      <ol>
        <li>ã€Œã™ã¹ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯</li>
        <li>ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸ4ã¤ã®PNGãƒ•ã‚¡ã‚¤ãƒ«ã‚’ <code>icons/</code> ãƒ•ã‚©ãƒ«ãƒ€ã«é…ç½®</li>
        <li>Chromeã§æ‹¡å¼µæ©Ÿèƒ½ã‚’å†èª­ã¿è¾¼ã¿</li>
      </ol>
    </div>
  </div>

  <script>
    const sizes = [16, 32, 48, 128];
    const canvases = {};

    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const s = size / 128; // ã‚¹ã‚±ãƒ¼ãƒ«

      // èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆæ°´è‰²â†’ç´«ï¼‰
      const bgGrad = ctx.createLinearGradient(0, 0, size, size);
      bgGrad.addColorStop(0, '#7DD3FC');
      bgGrad.addColorStop(1, '#A78BFA');

      // èƒŒæ™¯å††
      ctx.beginPath();
      ctx.arc(64 * s, 64 * s, 60 * s, 0, Math.PI * 2);
      ctx.fillStyle = bgGrad;
      ctx.fill();

      // è™«çœ¼é¡ã®å††ï¼ˆç™½ï¼‰
      ctx.beginPath();
      ctx.arc(54 * s, 52 * s, 28 * s, 0, Math.PI * 2);
      ctx.fillStyle = 'white';
      ctx.fill();
      ctx.strokeStyle = '#BAE6FD';
      ctx.lineWidth = 4 * s;
      ctx.stroke();

      // ãƒãƒ¼ãƒˆãƒãƒ¼ã‚¯ï¼ˆãƒ”ãƒ³ã‚¯ï¼‰
      const heartGrad = ctx.createLinearGradient(36 * s, 42 * s, 72 * s, 68 * s);
      heartGrad.addColorStop(0, '#F472B6');
      heartGrad.addColorStop(1, '#FB7185');

      ctx.beginPath();
      const hx = 54 * s, hy = 52 * s, hs = 18 * s;
      ctx.moveTo(hx, hy - hs * 0.3);
      ctx.bezierCurveTo(hx - hs, hy - hs * 1.2, hx - hs * 1.2, hy + hs * 0.2, hx, hy + hs * 0.8);
      ctx.bezierCurveTo(hx + hs * 1.2, hy + hs * 0.2, hx + hs, hy - hs * 1.2, hx, hy - hs * 0.3);
      ctx.fillStyle = heartGrad;
      ctx.fill();

      // è™«çœ¼é¡ã®æŒã¡æ‰‹
      ctx.save();
      ctx.translate(78 * s, 78 * s);
      ctx.rotate(Math.PI / 4);
      // roundRectã®ä»£ã‚ã‚Šã«æ‰‹å‹•ã§è§’ä¸¸é•·æ–¹å½¢ã‚’æç”»
      const rw = 12 * s, rh = 28 * s, rr = 6 * s;
      ctx.beginPath();
      ctx.moveTo(-rw/2 + rr, 0);
      ctx.lineTo(rw/2 - rr, 0);
      ctx.quadraticCurveTo(rw/2, 0, rw/2, rr);
      ctx.lineTo(rw/2, rh - rr);
      ctx.quadraticCurveTo(rw/2, rh, rw/2 - rr, rh);
      ctx.lineTo(-rw/2 + rr, rh);
      ctx.quadraticCurveTo(-rw/2, rh, -rw/2, rh - rr);
      ctx.lineTo(-rw/2, rr);
      ctx.quadraticCurveTo(-rw/2, 0, -rw/2 + rr, 0);
      ctx.closePath();
      ctx.fillStyle = 'white';
      ctx.fill();
      ctx.strokeStyle = '#BAE6FD';
      ctx.lineWidth = 3 * s;
      ctx.stroke();
      ctx.restore();

      // ã‚­ãƒ©ã‚­ãƒ©è£…é£¾ï¼ˆé»„è‰²ï¼‰
      if (size >= 32) {
        ctx.fillStyle = '#FDE68A';

        ctx.beginPath();
        ctx.arc(95 * s, 30 * s, 5 * s, 0, Math.PI * 2);
        ctx.fill();

        ctx.beginPath();
        ctx.arc(105 * s, 45 * s, 3 * s, 0, Math.PI * 2);
        ctx.fill();

        ctx.beginPath();
        ctx.arc(25 * s, 85 * s, 4 * s, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    function generateIcons() {
      const preview = document.getElementById('preview');
      preview.innerHTML = '';

      sizes.forEach(size => {
        const item = document.createElement('div');
        item.className = 'icon-item';

        const canvas = document.createElement('canvas');
        canvas.width = size;
        canvas.height = size;
        drawIcon(canvas, size);

        canvases[size] = canvas;

        item.appendChild(canvas);
        const label = document.createElement('p');
        label.textContent = `icon${size}.png`;
        item.appendChild(label);
        preview.appendChild(item);
      });
    }

    function downloadAll() {
      sizes.forEach((size, i) => {
        setTimeout(() => {
          const canvas = canvases[size];
          const link = document.createElement('a');
          link.download = `icon${size}.png`;
          link.href = canvas.toDataURL('image/png');
          link.click();
        }, i * 300);
      });
    }

    // åˆæœŸåŒ–
    try {
      generateIcons();
      console.log('ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆå®Œäº†ï¼');
    } catch (e) {
      console.error('ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆã‚¨ãƒ©ãƒ¼:', e);
      alert('ã‚¢ã‚¤ã‚³ãƒ³ç”Ÿæˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ' + e.message);
    }
  </script>
</body>
</html>
